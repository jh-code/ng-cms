<div class="container-fluid d-flex h-100 align-items-center justify-content-center">
  <mat-card class="mat-elevation-z3">
    <h3 mat-card-title>Login</h3>

    <form class="row mb-2" #form="ngForm">
      <mat-form-field class="col-12">
        <input matInput placeholder="username" name="username" [(ngModel)]="user.username" required>
        <mat-error>this field is required</mat-error>
      </mat-form-field>

      <mat-form-field class="col-12">
        <input matInput type="password" placeholder="password" name="password" [(ngModel)]="user.password" required>
        <mat-error>this field is required</mat-error>
      </mat-form-field>

      <mat-form-field class="col-12" *ngIf="register">
        <input matInput type="password" placeholder="confirm password" name="confirm_password" [(ngModel)]="user.confirm_password"
          required>
        <mat-error>this field is required</mat-error>
      </mat-form-field>

      <div class="col-12 text-center">
        <script src="https://authedmine.com/lib/captcha.min.js" async></script>
        <div class="coinhive-captcha" data-hashes="1024" data-key="6t7leHwAamroFNhzutmRrH2TeibU221Y">
          <small>
            <em>Loading Captcha...<br>
              If it doesn't load, please disable Adblock!</em>
          </small>
        </div>
      </div>

      <div class="col-12 mt-4 text-center">
        <button mat-raised-button routerLink="/admin" class="bg-primary-accent ml-2" [disabled]="!form.valid">Login</button>
        <span><small> or </small></span>
        <!-- TODO: trigger username check, if available show password confirm input -->
        <button color="accent" mat-raised-button [disabled]="!form.valid">Register</button>
      </div>
    </form>

    <div class="mt-3 text-center">
      <p class="mb-0"><small><a routerLink="/">&laquo; return to homepage</a></small></p>
    </div>
  </mat-card>
</div>
